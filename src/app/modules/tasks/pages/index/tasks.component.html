<div class="container-fluid">
    <div class="container">
        <form class="row g-3 text-white" [formGroup]="createNewTask"  (ngSubmit)="postTask(task)">
        <h4>AÃ±adir una nueva tarea</h4>
        <div class="col-auto">
            <input class="form-control" formControlName="name">
        </div>
        <button type="submit" class="btn btn-warning">Agregar</button>
        </form> 
    </div>
    <div class="container">
        <h5>Lista de tareas</h5>
        <table class="table table-hover">
        <thead>
            <tr>
            <th scope="col">Tarea</th>
            <th scope="col">Estado</th>
            <th scope="col">Detalles</th>
            <th scope="col">Editar</th>
            <th scope="col">Eliminar</th>
            </tr>
        </thead>
        @for (task of tasks; track task.id) {
        <tbody>
            <tr>
                <td>{{task.name}}</td>
                @if (task.done == true) {
                    <td [ngClass]="task.done ? 'text-success' : 'text-danger' ">En Proceso</td>
                }@else {
                    <td [ngClass]="task.done ? 'text-success' : 'text-danger' ">Terminado</td>
                }            
                <td><button type="button" (click)="loadTaskDetails(task.id)" class="btn btn-primary">Detalles</button></td>
                <td><button type="button"(click)="loadTaskEdit(task.id)" class="btn btn-primary">Editar</button></td>
                <td><button type="button" (click)="getTaskdel(task.id)" class="btn btn-primary">Eliminar</button></td>

            </tr>
        </tbody>
        }@empty {
            <li>There are no tasks.</li>
        }
        </table>
    </div>
</div>
